\hypertarget{_pop_up_service_8cs_source}{}\doxysection{Pop\+Up\+Service.\+cs}
\label{_pop_up_service_8cs_source}\index{Editor/Services/PopUpService.cs@{Editor/Services/PopUpService.cs}}
\mbox{\hyperlink{_pop_up_service_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00001}00001 \textcolor{keyword}{using }\mbox{\hyperlink{_boolean_notifier_8cs_a81a223a02c34d82b47199f08308847f2}{System}};}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00002}00002 \textcolor{keyword}{using }System.Collections.Generic;}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00003}00003 \textcolor{keyword}{using }System.Threading.Tasks;}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00004}00004 \textcolor{keyword}{using }\mbox{\hyperlink{namespace_uni_rx}{UniRx}};}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00005}00005 \textcolor{keyword}{using }UnityEditor;}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00006}00006 \textcolor{keyword}{using }UnityEngine;}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00007}00007 \textcolor{keyword}{using }UnityEngine.UIElements;}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00008}00008 }
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00009}\mbox{\hyperlink{class_pop_up_service}{00009}} \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_pop_up_service}{PopUpService}}: EditorWindow}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00010}00010 \{}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00011}00011         \textcolor{keyword}{private} \textcolor{keyword}{static} \mbox{\hyperlink{class_button_pop_up_window}{ButtonPopUpWindow}} ButtonPopUp => GetWindow<ButtonPopUpWindow>();}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00012}\mbox{\hyperlink{class_pop_up_service_a443aa3605d8b94a141a91bbf8c7a55ed}{00012}}         \textcolor{keyword}{public} \textcolor{keyword}{static} async Task \mbox{\hyperlink{class_pop_up_service_a443aa3605d8b94a141a91bbf8c7a55ed}{AskToSaveIfProjectNotSavedThenSelectProjectToLoad}}()}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00013}00013         \{}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00014}00014                 await InitWithThreeButtonsThenAction(LoadProject);}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00015}00015         \}}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00016}00016         }
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00017}\mbox{\hyperlink{class_pop_up_service_a7e620d00803a2e4eac38446b3ff24109}{00017}}         \textcolor{keyword}{public} \textcolor{keyword}{static} async Task \mbox{\hyperlink{class_pop_up_service_a7e620d00803a2e4eac38446b3ff24109}{AskToSaveIfProjectNotSavedThenCreateNew}}()}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00018}00018         \{}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00019}00019                 await InitWithThreeButtonsThenAction(CreateNewProject);}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00020}00020         \}}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00022}00022         \textcolor{keyword}{private} \textcolor{keyword}{static} async Task InitWithThreeButtonsThenAction(Func<Task> task)}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00023}00023         \{}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00024}00024                 \textcolor{keywordflow}{if} (ProjectSettingsService.Instance.ProjectSaved())}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00025}00025                 \{}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00026}00026                         await task.Invoke();}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00027}00027                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00028}00028                 \}}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00030}00030                 async \textcolor{keywordtype}{void} Save()}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00031}00031                 \{}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00032}00032                         await TemplateService.Instance.Save();}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00033}00033                         await task.Invoke();}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00034}00034                 \}}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00036}00036                 var saveButton = \textcolor{keyword}{new} Button(Save)}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00037}00037                 \{}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00038}00038                         text = \textcolor{stringliteral}{"{}Save"{}}}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00039}00039                 \};}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00041}00041                 async \textcolor{keywordtype}{void} RunTask()}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00042}00042                 \{}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00043}00043                         await task.Invoke();}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00044}00044                 \}}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00045}00045 }
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00046}00046                 var noSaveButton = \textcolor{keyword}{new} Button(RunTask)}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00047}00047                 \{}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00048}00048                         text = \textcolor{stringliteral}{"{}Don't Save"{}}}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00049}00049                 \};}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00051}00051                 var cancelButton = \textcolor{keyword}{new} Button(ButtonPopUp.Close)}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00052}00052                 \{}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00053}00053                         text = \textcolor{stringliteral}{"{}Cancel"{}}}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00054}00054                 \};}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00055}00055 }
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00056}00056                 var buttonList = \textcolor{keyword}{new} List<Button>()}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00057}00057                 \{}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00058}00058                         saveButton,}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00059}00059                         noSaveButton,}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00060}00060                         cancelButton}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00061}00061                 \};}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00062}00062                 }
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00063}00063                 ButtonPopUp.Open(\textcolor{stringliteral}{"{}Project Not Saved!"{}},\textcolor{stringliteral}{"{}Project not saved. Save before continuing?"{}}, buttonList);}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00064}00064 }
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00065}00065                 var tmpManagerPos = GetWindow<TemplateManager>().position;}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00066}00066                 var size = \textcolor{keyword}{new} Vector2(ButtonPopUp.position.width, ButtonPopUp.position.height);}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00067}00067                 var centerPosition = \textcolor{keyword}{new} Vector2(tmpManagerPos.x / 1.5f -\/ size.x/2,}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00068}00068                         tmpManagerPos.y * 1.5f + size.y/2);}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00069}00069                 }
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00070}00070                 ButtonPopUp.position = \textcolor{keyword}{new} Rect(centerPosition, size);}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00071}00071         \}}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00072}00072 }
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00073}00073         \textcolor{keyword}{private} \textcolor{keyword}{static} async Task LoadProject()}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00074}00074         \{}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00075}00075                 ButtonPopUp.Close();}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00076}00076                 ProjectSettingsService.Instance.LoadProject();}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00077}00077                 await TemplateService.Instance.LoadCurrentProject();}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00078}00078         \}}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00080}00080         \textcolor{keyword}{private} \textcolor{keyword}{static} async Task CreateNewProject()}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00081}00081         \{}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00082}00082                 ButtonPopUp.Close();}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00083}00083                 await ProjectSettingsService.Instance.CreateProject();}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00084}00084                 await TemplateService.Instance.LoadCurrentProject();}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00085}00085         \}}
\DoxyCodeLine{\Hypertarget{_pop_up_service_8cs_source_l00086}00086 \}}

\end{DoxyCode}
