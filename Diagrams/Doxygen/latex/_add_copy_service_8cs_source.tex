\hypertarget{_add_copy_service_8cs_source}{}\doxysection{Add\+Copy\+Service.\+cs}
\label{_add_copy_service_8cs_source}\index{Editor/Services/AddCopyService.cs@{Editor/Services/AddCopyService.cs}}
\mbox{\hyperlink{_add_copy_service_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00001}00001 \textcolor{keyword}{using }\mbox{\hyperlink{_boolean_notifier_8cs_a81a223a02c34d82b47199f08308847f2}{System}};}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00002}00002 \textcolor{keyword}{using }System.Collections.Generic;}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00003}00003 \textcolor{keyword}{using }System.Linq;}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00004}00004 \textcolor{keyword}{using }System.Text;}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00005}00005 \textcolor{keyword}{using }System.Text.RegularExpressions;}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00006}00006 \textcolor{keyword}{using }System.Threading.Tasks;}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00007}00007 \textcolor{keyword}{using }UnityEngine;}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00008}00008 }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00009}00009 \textcolor{keyword}{internal} \textcolor{keyword}{static} \textcolor{keyword}{class }AddCopyService}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00010}00010 \{}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00011}00011     \textcolor{keyword}{internal} \textcolor{keyword}{static} List<string> GetChoices(Type type, List<AiObjectModel> templates = \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00012}00012     \{}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00013}00013         var namesFromFiles = AssetService.GetActivateAbleTypes(type);}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00014}00014         var tempChoices = \textcolor{keyword}{new} List<string> \{Consts.LineBreakBaseTypes\};}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00015}00015         tempChoices.AddRange(namesFromFiles}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00016}00016             .Where(aiObject => !aiObject.Name.Contains(\textcolor{stringliteral}{"{}Mock"{}}) \&\& }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00017}00017                            !aiObject.Name.Contains(\textcolor{stringliteral}{"{}Stub"{}}) \&\& }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00018}00018                            !aiObject.Name.Contains(\textcolor{stringliteral}{"{}Error\_"{}}) \&\&}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00019}00019                            !aiObject.Name.Contains(\textcolor{stringliteral}{"{}Demo"{}}))}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00020}00020             .Select(aiObject => aiObject.Name)}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00021}00021             .OrderBy(name => name)}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00022}00022             .ToList());}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00023}00023         }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00024}00024         \textcolor{keywordflow}{if} (templates is \{Count: > 0\})}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00025}00025         \{}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00026}00026             tempChoices.Add(Consts.LineBreakTemplates);}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00028}00028             tempChoices.AddRange(templates}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00029}00029                 .Select(t => t.Name)}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00030}00030                 .OrderBy(n => n)}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00031}00031                 .ToList());}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00032}00032         \}}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00033}00033 }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00034}00034         \textcolor{keywordflow}{if} (TemplateService.Instance.IncludeDemos)}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00035}00035         \{}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00036}00036             var demoChoices = namesFromFiles}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00037}00037                 .Where(aiObject => aiObject.Name.Contains(\textcolor{stringliteral}{"{}Demo"{}}))}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00038}00038                 .Select(aiObject => aiObject.Name)}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00039}00039                 .OrderBy(n => n)}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00040}00040                 .ToList();}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00041}00041 }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00042}00042             \textcolor{keywordflow}{if} (demoChoices.Count > 0)}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00043}00043             \{}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00044}00044                 tempChoices.Add(Consts.LineBreakDemos);}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00045}00045                 tempChoices.AddRange(demoChoices);}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00046}00046             \}}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00047}00047         \}}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00048}00048 }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00049}00049         \textcolor{keywordflow}{return} tempChoices}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00050}00050             .Select(StringService.SpaceBetweenUpperCase)}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00051}00051             .ToList();}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00052}00052     \}}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00053}00053 }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00054}00054     \textcolor{keyword}{internal} \textcolor{keyword}{static} async Task<AiObjectModel> GetAiObjectClone(\textcolor{keywordtype}{string} name, List<AiObjectModel> templates)}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00055}00055     \{}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00056}00056         var whiteSpaceName = StringService.SpaceBetweenUpperCase(name);}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00057}00057         var noWhiteSpace = StringService.RemoveWhiteSpaces(name);}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00058}00058         templates ??= \textcolor{keyword}{new} List<AiObjectModel>();}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00059}00059         var existingElement =}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00060}00060             templates.FirstOrDefault(t =>}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00061}00061                 t.Name == name || t.Name == whiteSpaceName || t.Name == noWhiteSpace); }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00062}00062         }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00063}00063         \textcolor{keywordflow}{if}(existingElement != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00064}00064         \{}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00065}00065             var c = await existingElement.CloneAsync();}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00066}00066             \textcolor{keywordflow}{return} c;}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00067}00067 }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00068}00068         \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00069}00069         \{}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00070}00070             var c = AssetService.GetInstanceOfType<\mbox{\hyperlink{class_ai_object_model}{AiObjectModel}}>(noWhiteSpace);}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00071}00071             \textcolor{keywordflow}{return} c;}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00072}00072         \}}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00073}00073     \}}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00074}00074 }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00075}00075     \textcolor{keyword}{internal} \textcolor{keyword}{static} async Task<AiObjectModel> GetAiObjectCloneNameSafe(\textcolor{keywordtype}{string} name, List<AiObjectModel> templates)}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00076}00076     \{}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00077}00077         var clone = await GetAiObjectClone(name, templates);}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00078}00078         var sameNameObject = templates.Where(t => t.Name == clone.Name).ToList();}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00079}00079         \textcolor{keywordflow}{if} (!sameNameObject.Any())}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00080}00080         \{}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00081}00081             var collection = TemplateService.Instance.GetCollection(clone.GetType());}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00082}00082             sameNameObject = collection.Values.Where(t => t.Name == clone.Name).ToList();}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00083}00083         \}}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00084}00084 }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00085}00085         \textcolor{keywordflow}{if} (sameNameObject.Any())}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00086}00086         \{}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00087}00087             clone.Name += \textcolor{stringliteral}{"{}("{}} + sameNameObject.Count + \textcolor{stringliteral}{"{})"{}};}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00088}00088         \}}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00089}00089 }
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00090}00090         \textcolor{keywordflow}{return} clone;}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00091}00091     \}}
\DoxyCodeLine{\Hypertarget{_add_copy_service_8cs_source_l00092}00092 \}}

\end{DoxyCode}
