\hypertarget{_sample01___observable_w_w_w_8cs_source}{}\doxysection{Sample01\+\_\+\+Observable\+WWW.\+cs}
\label{_sample01___observable_w_w_w_8cs_source}\index{Editor/UniRx/Examples/Sample01\_ObservableWWW.cs@{Editor/UniRx/Examples/Sample01\_ObservableWWW.cs}}
\mbox{\hyperlink{_sample01___observable_w_w_w_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00001}00001 \textcolor{preprocessor}{\#if !(UNITY\_METRO || UNITY\_WP8)}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00003}00003 \textcolor{preprocessor}{\#if UNITY\_2018\_3\_OR\_NEWER}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00004}00004 \textcolor{preprocessor}{\#pragma warning disable CS0618}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00005}00005 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00006}00006 }
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00007}00007 \textcolor{keyword}{using }UnityEngine;}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00008}00008 }
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00009}\mbox{\hyperlink{namespace_uni_rx}{00009}} \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_uni_rx_1_1_examples}{UniRx.Examples}}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00010}00010 \{}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00011}00011     \textcolor{comment}{// sample script, attach your object.}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00012}\mbox{\hyperlink{class_uni_rx_1_1_examples_1_1_sample01___observable_w_w_w}{00012}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_uni_rx_1_1_examples_1_1_sample01___observable_w_w_w}{Sample01\_ObservableWWW}} : MonoBehaviour}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00013}00013     \{}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00014}00014         \textcolor{keywordtype}{void} Start()}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00015}00015         \{}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00016}00016             \textcolor{comment}{// Basic: Download from google.}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00017}00017             \{}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00018}00018                 ObservableWWW.Get(\textcolor{stringliteral}{"{}http://google.co.jp/"{}})}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00019}00019                     .Subscribe(}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00020}00020                         x => \mbox{\hyperlink{_ai_view_model_8cs_a828eaed3a7fec21688af492b377d63ed}{Debug}}.Log(x.Substring(0, 100)), \textcolor{comment}{// onSuccess}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00021}00021                         ex => \mbox{\hyperlink{_ai_view_model_8cs_a828eaed3a7fec21688af492b377d63ed}{Debug}}.LogException(ex)); \textcolor{comment}{// onError}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00022}00022             \}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00023}00023 }
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00024}00024             \textcolor{comment}{// Linear Pattern with LINQ Query Expressions}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00025}00025             \textcolor{comment}{// download after google, start bing download}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00026}00026             \{}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00027}00027                 var query = from google in ObservableWWW.Get(\textcolor{stringliteral}{"{}http://google.com/"{}})}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00028}00028                             from bing in ObservableWWW.Get(\textcolor{stringliteral}{"{}http://bing.com/"{}})}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00029}00029                             select \textcolor{keyword}{new} \{ google, bing \};}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00031}00031                 var cancel = query.Subscribe(x => \mbox{\hyperlink{_ai_view_model_8cs_a828eaed3a7fec21688af492b377d63ed}{Debug}}.Log(x.google.Substring(0, 100) + \textcolor{stringliteral}{"{}:"{}} + x.bing.Substring(0, 100)));}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00032}00032 }
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00033}00033                 \textcolor{comment}{// Call Dispose is cancel downloading.}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00034}00034                 cancel.Dispose();}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00035}00035             \}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00037}00037             \textcolor{comment}{// Observable.WhenAll is for parallel asynchronous operation}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00038}00038             \textcolor{comment}{// (It's like Observable.Zip but specialized for single async operations like Task.WhenAll of .NET 4)}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00039}00039             \{}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00040}00040                 var parallel = \mbox{\hyperlink{class_uni_rx_1_1_observable}{Observable}}.\mbox{\hyperlink{class_uni_rx_1_1_observable_a749ffc0190b6b968a91f0e101ef13a83}{WhenAll}}(}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00041}00041                     ObservableWWW.Get(\textcolor{stringliteral}{"{}http://google.com/"{}}),}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00042}00042                     ObservableWWW.Get(\textcolor{stringliteral}{"{}http://bing.com/"{}}),}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00043}00043                     ObservableWWW.Get(\textcolor{stringliteral}{"{}http://unity3d.com/"{}}));}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00045}00045                 parallel.\mbox{\hyperlink{interface_uni_rx_1_1_i_observable_a81a2566f451cf1ddc8de265d019d1b88}{Subscribe}}(xs =>}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00046}00046                 \{}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00047}00047                     \mbox{\hyperlink{_ai_view_model_8cs_a828eaed3a7fec21688af492b377d63ed}{Debug}}.Log(xs[0].Substring(0, 100)); \textcolor{comment}{// google}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00048}00048                     \mbox{\hyperlink{_ai_view_model_8cs_a828eaed3a7fec21688af492b377d63ed}{Debug}}.Log(xs[1].Substring(0, 100)); \textcolor{comment}{// bing}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00049}00049                     \mbox{\hyperlink{_ai_view_model_8cs_a828eaed3a7fec21688af492b377d63ed}{Debug}}.Log(xs[2].Substring(0, 100)); \textcolor{comment}{// unity}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00050}00050                 \});}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00051}00051             \}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00052}00052 }
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00053}00053             \textcolor{comment}{// with Progress}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00054}00054             \{}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00055}00055                 \textcolor{comment}{// notifier for progress}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00056}00056                 var progressNotifier = \textcolor{keyword}{new} \mbox{\hyperlink{class_uni_rx_1_1_scheduled_notifier}{ScheduledNotifier<float>}}();}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00057}00057                 progressNotifier.Subscribe(x => \mbox{\hyperlink{_ai_view_model_8cs_a828eaed3a7fec21688af492b377d63ed}{Debug}}.Log(x)); \textcolor{comment}{// write www.progress}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00058}00058 }
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00059}00059                 \textcolor{comment}{// pass notifier to WWW.Get/Post}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00060}00060                 ObservableWWW.Get(\textcolor{stringliteral}{"{}http://google.com/"{}}, progress: progressNotifier).Subscribe();}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00061}00061             \}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00062}00062 }
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00063}00063             \textcolor{comment}{// with Error}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00064}00064             \{}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00065}00065                 \textcolor{comment}{// If WWW has .error, ObservableWWW throws WWWErrorException to onError pipeline.}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00066}00066                 \textcolor{comment}{// WWWErrorException has RawErrorMessage, HasResponse, StatusCode, ResponseHeaders}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00067}00067                 ObservableWWW.Get(\textcolor{stringliteral}{"{}http://www.google.com/404"{}})}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00068}00068                     .CatchIgnore((\mbox{\hyperlink{class_uni_rx_1_1_w_w_w_error_exception}{WWWErrorException}} ex) =>}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00069}00069                     \{}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00070}00070                         \mbox{\hyperlink{_ai_view_model_8cs_a828eaed3a7fec21688af492b377d63ed}{Debug}}.Log(ex.\mbox{\hyperlink{class_uni_rx_1_1_w_w_w_error_exception_ac23265af0e588a192606a5dd30174a46}{RawErrorMessage}});}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00071}00071                         if (ex.\mbox{\hyperlink{class_uni_rx_1_1_w_w_w_error_exception_aa463bc6b0aabc4bb35c01d6a43be718c}{HasResponse}})}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00072}00072                         \{}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00073}00073                             Debug.Log(ex.StatusCode);}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00074}00074                         \}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00075}00075                         foreach (var item in ex.\mbox{\hyperlink{class_uni_rx_1_1_w_w_w_error_exception_a91dd8e7ccfb195aa1573910534e6e192}{ResponseHeaders}})}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00076}00076                         \{}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00077}00077                             Debug.Log(item.Key + \textcolor{stringliteral}{"{}:"{}} + item.Value);}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00078}00078                         \}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00079}00079                     \})}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00080}00080                     .Subscribe();}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00081}00081             \}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00082}00082         \}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00083}00083     \}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00084}00084 \}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00085}00085 }
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00086}00086 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00087}00087 }
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00088}00088 \textcolor{preprocessor}{\#if UNITY\_2018\_3\_OR\_NEWER}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00089}00089 \textcolor{preprocessor}{\#pragma warning restore CS0618}}
\DoxyCodeLine{\Hypertarget{_sample01___observable_w_w_w_8cs_source_l00090}00090 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
